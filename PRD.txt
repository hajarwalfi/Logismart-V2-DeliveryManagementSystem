Pour répondre aux besoins identifiés et résoudre les problèmes actuels de suivi manuel, voici les principales user stories du gestionnaire à implémenter :





Gérer les livreurs (CRUD) afin que toutes les informations soient centralisées et fiables, tout en évitant les doublons et les erreurs de saisie.



Enregistrer un colis et l’assigner à un livreur pour suivre précisément chaque livraison et éviter les pertes ou enregistrements multiples.



Mettre à jour le statut d’un colis (préparation, en transit, livré) pour assurer une visibilité en temps réel sur l’avancement des livraisons.



Lister tous les colis assignés à un livreur afin de planifier efficacement les tournées et réduire les retards.



Supprimer ou corriger une information erronée pour garantir la fiabilité et l’intégrité des données.



Ces user stories montrent comment le système centralisé permettra au gestionnaire de : remplacer le suivi manuel, réduire les erreurs et les doublons, améliorer la planification et la visibilité, optimiser l’efficacité globale des opérations logistiques. La société SmartLogi, spécialisée dans la livraison de colis à travers le Maroc, souhaite moderniser et automatiser la gestion de ses opérations logistiques.

Actuellement, la société gère les livraisons manuellement à l’aide de fichiers Excel et de registres papier, ce qui engendre plusieurs difficultés : erreurs de saisie, pertes de données, retards dans les livraisons et manque de visibilité sur le suivi des colis.

Pour répondre à ce besoin, votre société de services en développement logiciel a été sollicitée pour concevoir et développer une solution web de gestion logistique, nommée Smart Delivery Management System (SDMS).

Cette application devra permettre à SmartLogi de :





Collecter les colis depuis les clients expéditeurs.



Stocker temporairement les colis dans les entrepôts de la société avant expédition.



Planifier et assurer la livraison des colis aux destinataires finaux, qu’ils soient dans la même ville ou dans une autre région du Maroc.



Fournir une traçabilité complète des colis grâce à un historique des statuts.



Optimiser la planification logistique par zones géographiques et selon la priorité des colis.



Réduire les erreurs humaines et améliorer la fiabilité du suivi des livraisons.

Votre mission consiste donc à développer la nouvelle version du SDMS, plus complète et évolutive, qui servira de base au futur système intégré de gestion logistique de SmartLogi.

Objectifs





Centraliser la gestion des clients expéditeurs, destinataires, colis, livreurs et zones de livraison.



Suivre le flux complet des colis : collecte chez le client, stockage, planification de la tournée, livraison finale.



Permettre une recherche et un suivi précis des colis via différents critères (ville, zone, statut, priorité).



Fournir un historique complet de chaque colis pour le suivi et la traçabilité.



Optimiser l’organisation des tournées et réduire les retards grâce à une planification efficace.



Faciliter la prise de décision pour les gestionnaires logistiques.

Utilisateurs





Gestionnaire logistique : supervise toutes les opérations, planifie les tournées, gère les livreurs et le stock.



Livreur : consulte ses colis assignés et suit sa tournée.



Client expéditeur : crée des demandes de livraison et reçoit des notifications sur l’état de ses colis.



Destinataire : reçoit le colis et peut suivre sa livraison.



User Stories

Client expéditeur





Je veux créer une demande de livraison pour envoyer un colis à un destinataire.



Je veux consulter la liste de mes colis en cours et livrés pour suivre mes envois.



Je veux recevoir une notification par email lorsque mon colis est collecté ou livré (bonus).

Destinataire





Je veux consulter le statut de colis qui me sont destinés afin de savoir quand les recevoir.

Livreur





Je veux voir la liste de mes colis assignés, avec leurs priorités et zones.



Je veux mettre à jour le statut des colis au fur et à mesure de la collecte et de la livraison.

Gestionnaire logistique





Je veux voir toutes les demandes de livraison et les assigner aux livreurs pour planifier les tournées.



Je veux corriger ou supprimer des informations erronées sur un colis, client ou destinataire.



Je veux filtrer et paginer les colis par statut, zone, ville, priorité ou date.



Je veux regrouper les colis par zone, statut ou priorité pour avoir une vue synthétique.



Je veux pouvoir rechercher un colis, un client ou un livreur par mot-clé (nom, numéro, ville…) afin de retrouver rapidement une information précise.



Je veux calculer le poids total et le nombre de colis par livreur et par zone pour équilibrer les tournées.



Je veux identifier les colis en retard ou prioritaires et recevoir une alerte par email.



Je veux associer plusieurs produits à un colis pour gérer les colis multi-produits.



Je veux consulter l’historique complet d’un colis, avec toutes les étapes et commentaires.

Modèle métier / Tables principales





ClientExpéditeur : id, nom, prénom, email, téléphone, adresse



Destinataire : id, nom, prénom, email, téléphone, adresse



Livreur : id, nom, prénom, téléphone, véhicule, zoneAssignée



Colis : id, description, poids, statut (créé, collecté, en stock, en transit, livré), priorité, idLivreur, idClientExpéditeur, idDestinataire, idZone, villeDestination



Zone : id, nom, codePostal (pour organiser les tournées par villes)



HistoriqueLivraison : id, idColis, statut, dateChangement, commentaire



Produit : id, nom, catégorie, poids, prix



Colis_Produit : idColis, idProduit, quantité, prix, dateAjout



Exigences techniques  Contexte du projet

SmartLogi utilise l’application SDMS pour gérer l’ensemble du cycle logistique : collecte, stockage, livraison, suivi des colis, gestion des clients et des livreurs. La version actuelle fonctionne correctement sur le plan métier, mais aucun mécanisme de sécurité n’est en place.

L’entreprise souhaite désormais sécuriser son API REST afin de :





protéger les données sensibles,



séparer clairement les droits entre gestionnaires, livreurs et clients,



préparer l’intégration avec des frontends Angular/React,



appliquer une approche 100 % stateless adaptée aux API modernes.

Pour cela, la solution retenue est l’utilisation de JWT Bearer Token pour l’authentification et la gestion des accès.

Objectifs du projet





Mettre en place une authentification stateless basée sur JWT dans Spring Security.



Appliquer des règles d’autorisation selon les rôles métier (Gestionnaire, Livreur, Client).



Configurer un CORS strict pour n’autoriser que les frontends internes.

Rôles et Permission

GESTIONNAIRE (ROLE_MANAGER)





Accès complet : gestion colis, livreurs, zones, statistiques

LIVREUR





consulter uniquement les colis qui lui sont assignés



mettre à jour le statut (collecté, en transit, livré)



pas d’accès aux données des autres livreurs



pas d’accès aux informations sensibles

CLIENT EXPÉDITEUR (ROLE_CLIENT)





créer une demande de livraison



consulter uniquement ses propres colis



recevoir suivi et statuts



pas d'accès aux livreurs, zones, tournées

Travail à réaliser

Mettre en place l’authentification JWT





Créer un endpoint /auth/login



Vérifier les identifiants via un UserDetailsService



Générer un JWT avec rôles et expiration



Ajouter un filtre qui valide le token sur chaque requête et charge les rôles dans le contexte Spring Security

Sécurisation





Activer le mode stateless



Définir les autorisations par rôle sur les endpoints



Ajouter le filtre JWT dans la chaîne de filtres

Appliquer les règles d'accès par rôle





GESTIONNAIRE : accès complet (zones, livreurs, stats, colis)



LIVREUR : accès uniquement à ses colis assignés



CLIENT : création et suivi de ses colis uniquement Évolutions à ajouter au projet (sans modifier l’existant)

Gestion dynamique des rôles et permissions (Admin)

Nouvelles notions





Permission (nouvelle table)



Role possède un ensemble de permissions

Fonctionnalités Admin





Ajouter / supprimer une permission



Assigner / retirer une permission à un rôle



Consulter les permissions d’un rôle Profils utilisateurs & besoins fonctionnels

Gestionnaire logistique





Accéder à un dashboard global



Consulter et filtrer tous les colis



Gérer les clients, livreurs et zones



Visualiser les statuts, priorités et retards



Accéder uniquement aux écrans autorisés à son rôle

Livreur





Se connecter à l’application



Consulter uniquement ses colis assignés



Mettre à jour le statut des colis



Visualiser sa tournée par zone / priorité

Client expéditeur





Se connecter / s’inscrire



Créer une demande de livraison



Suivre l’état de ses colis



Consulter l’historique de livraison

Destinataire





Consulter le statut des colis destinés afin de connaître la date de réception